# 通用麻将计分器

一个专为手机设计的通用麻将计分器，适合放在麻将桌上供四人同时查看。支持多玩家轮换、分数结算、历史记录等功能。

## 功能特性

### 核心功能

- **多玩家支持**：支持4个以上玩家，可以轮换参与同一局
- **分数管理**：每个玩家分数从0开始，独立记录和管理
- **局数显示**：显示"第X局"，不依赖特定麻将规则
- **玩家轮换**：点击座位上的玩家名字可更换该座位的玩家
- **庄家标记**：庄家座位显示红色边框，"東"字显示为红色
- **方向标记**：自动显示東、南、西、北方向，正对当前庄家
- **结算功能**：支持点击方式记录分数变动
- **撤销功能**：支持撤销最近一次结算操作，防止误操作
- **防息屏**：游戏过程中保持屏幕常亮，避免频繁解锁
- **统计图表**：可视化显示玩家分数走势，谁是"后半场发力"一目了然
- **暗黑模式**：支持深色主题，夜间打牌更护眼
- **交互优化**：数字滚动动画，提升使用体验
- **强制竖屏**：在手机横屏时强制旋转界面，保持竖屏布局，方便放置在麻将桌中央

### 结算功能

- **简单操作**：先点击玩家A（选择"从"），再点击玩家B（选择"到"），输入金额即可
- **实时反馈**：结算后显示分数增减动画
- **自动记录**：每次结算完成后自动记录到历史

### 其他功能

- **历史记录**：查看所有结算历史，包括时间、局数、交易详情
- **数据持久化**：所有数据自动保存到浏览器本地存储
- **清空数据**：支持清空所有数据，重新开始

## 使用方法

### 基本操作

1. **设置玩家**：
   - 点击任意座位设置玩家
   - 可以添加新玩家或选择已有玩家
   - 已在其他座位上的玩家不能重复选择

2. **开始游戏**：
   - 设置好四个座位的玩家后即可开始
   - 点击"下一局"进入下一局，庄家自动逆时针轮换
   - 如果当前局没有结算记录，会弹出确认提示

3. **结算分数**：
   - 点击"结算"按钮打开结算界面
   - 选择"从"玩家和"到"玩家，输入分数
   - 点击"确认"应用分数变动

4. **查看信息**：
   - 点击顶部图标可以：
     - 切换深色/浅色模式
     - 查看统计图表
     - 查看历史记录
     - 进行设置（清空数据）

### 界面说明

- **四个座位**：分布在屏幕四边，每个座位显示玩家名字和分数
- **中间转盘**：显示当前局数，会根据庄家位置旋转
- **方向标记**：在局数框和座位之间，显示東、南、西、北
- **庄家标记**：庄家座位有红色边框，"東"字显示为红色

## 技术特点

- **Vue 3**：使用 Vue 3 构建，响应式数据驱动
- **Chart.js**：使用 Chart.js 绘制精美的分数走势图
- **纯HTML/CSS/JavaScript**：单文件应用，无需安装，直接在浏览器中打开即可使用
- **本地存储**：使用localStorage保存数据，刷新页面不丢失
- **Wake Lock API**：调用系统 API 防止屏幕熄灭

## 文件说明

- `index.html`：完整的单文件应用，包含所有HTML、CSS和JavaScript代码

## 使用场景

- 线下麻将游戏计分
- 放在麻将桌中央供四人同时查看
- 需要记录多局游戏分数

## 注意事项

- 数据保存在浏览器本地存储中，清除浏览器数据会丢失所有记录
- 建议定期查看历史记录，确认分数正确
- 清空数据操作不可恢复，请谨慎操作

## 浏览器兼容性

- 现代浏览器（Chrome、Safari、Firefox、Edge等）
- 支持移动端浏览器
- 需要支持localStorage的浏览器

## 更新日志

### v1.3
- 重构代码，使用 Vue 3 框架
- 优化 UI 设计，增加毛玻璃效果
- 优化横屏体验，强制旋转保持竖屏布局
- 优化统计图表，支持显示连续局数和中文标签
- 移除背景自定义功能，统一视觉风格

### v1.2
- 新增统计图表功能，可视化分数走势
- 新增暗黑模式，支持自动跟随系统或手动切换
- 新增数字滚动动画
- 优化 UI 细节

### v1.1
- 新增撤销功能，可回滚最近一次结算
- 新增防息屏功能 (Wake Lock)，保持屏幕常亮
- 优化界面交互

### v1.0
- 初始版本
- 支持多玩家、分数结算、历史记录等基础功能
- 横屏优化，适合手机使用
